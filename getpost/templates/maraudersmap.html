<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>GetPost | {% block title %}Home{% endblock %}</title>
    {% block styles %}
        <link rel="stylesheet" href="/css/template.css" />
    {% endblock %}
    {% block scripts %}
    {% endblock %}
</head>
<body>
    <div class="header">
        {% block header %}
            <span class="headertext"><a href="/">GetPost</a></span>
            {% if 'logged_in' in session: %}
                <span class="login">Welcome back, {{ session['first_name'] }}! | <a href="/auth/out/">Log out</a></span>
            {% else: %}
                <span class="login"><a href="/auth/">Log in</a> | <a href="/signup/">Sign up</a></span>
            {% endif %}
        {% endblock %}
    </div>
    <div class="content">
        {% block flasherrors %}
            {% with errors = get_flashed_messages(category_filter=["error"]) %}
                {% if errors %}
                    <div class="flash flasherror">
                        The following error(s) occurred:
                        <ul class="flashlist">
                            {% for message in errors %}
                                <li>{{ message }}</li>
                            {% endfor %}
                        </ul>
                    </div>
                {% endif %}
            {% endwith %}
        {% endblock %}
        {% block flashsuccesses %}
            {% with successes = get_flashed_messages(category_filter=["success"]) %}
                {% if successes %}
                    <div class="flash flashsuccess">
                        <ul class="flashlist">
                            {% for message in successes %}
                                <li>{{ message }}</li>
                            {% endfor %}
                        </ul>
                    </div>
                {% endif %}
            {% endwith %}
        {% endblock %}
        {% block content %}{% endblock %}
    </div>
    <div class="footer">
        {% block footer %}
            <span class="footertext">GetPost - bringing the Oberlin mailroom to you.</span>
        {% endblock %}
    </div>
</body>
</html>
